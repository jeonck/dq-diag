# 샘플 데이터 가이드

## 📁 샘플 파일 목록

### 1. sample_customer.csv
**용도**: 기본 데이터 품질 검사
**레코드**: 31건
**특징**:
- 완전성, 일관성, 정확성 전반적 테스트
- 나이 오류 (-5, 150, 250)
- 중복 레코드
- NULL 값
- 미래 날짜
- 잘못된 이메일 형식

---

### 2. sample_error_heavy.csv
**용도**: 엄격한 점수 계산 테스트
**레코드**: 10건
**특징**:
- 50% NULL 값 (order_count)
- 20% ID 중복 (user_id: 1001)
- 음수 값 (-5, -10)
- 미래 연도 (2025-2030)
- 과거 연도 (1899)

**검증 항목**:
```
완전성: 51.00점 (NULL 15%, 이상치)
일관성: 32.50점 (ID 중복 20%)
정확성: 74.00점 (음수, 범위 오류)
유용성: 72.00점 (데이터 10건)

전체: 57.38점 (🟠 보통)
```

---

### 3. sample_outliers.csv
**용도**: 아웃라이어 탐지 테스트
**레코드**: 10건
**특징**:
- salary 아웃라이어: 200,000 (너무 높음), 40,000 (너무 낮음)
- order_count 아웃라이어: 25, 22
- join_year 오래된 데이터: 2001

**검증 항목**:
```
✅ IQR 방법: salary (2건), join_year (1건)
✅ Z-score 방법: order_count (1건)
✅ 연도 범위 검사: join_year 2001 (2015-2025 범위 밖)
```

---

### 4. sample_manual_errors.csv ⭐ NEW
**용도**: 공공데이터 품질관리 매뉴얼 오류 사례 재현
**레코드**: 5건
**특징**:
- NULL과 공백 혼재 (미지급사유)
- 비완성형 한글 (김동ㅎㄴ, ㅎㅎ)
- 컬럼 간 논리관계 오류 (폐기일자 O / 폐기사유 X)
- 시작-종료 날짜 순서 (착공일자 > 준공일자)
- 유사 명칭 길이 불일치 (시설명 vs 시설명칭)

**검증 항목**:
```
완전성: 48.00점
- ✅ NULL과 공백 혼재 탐지

정확성: 55.00점
- ✅ 한글 문자 유효성 탐지
- ✅ 컬럼 간 논리관계 탐지
- ✅ 시작-종료 날짜 탐지
```

---

### 5. sample_comprehensive_test.csv ⭐ NEW
**용도**: 추가된 기능 종합 점검
**레코드**: 10건
**컬럼**: 18개
**특징**: 모든 신규 기능을 한번에 테스트

#### 의도된 오류 목록

**[완전성 - 6개]**
1. NULL과 공백 혼재
   - 미지급사유: NULL 5건 + 공백 1건
   - 지급사유코드: NULL 8건 + 공백 1건

2. 아웃라이어 (6개 컬럼)
   - 가입년도: 2030 (IQR)
   - 출생년도: 1888, 2025 (IQR)
   - 급여: 9,000,000 (Z-score)
   - 수당: -100,000 (IQR, 음수)
   - user_id: 1009 (Z-score)
   - order_count: 150, 200 (IQR)

**[일관성 - 2개]**
3. 유사 명칭 타입 불일치
   - user_id (int64) vs user_code (object)

4. ID 중복
   - user_id: 1001 중복 (1행, 7행)

**[정확성 - 6개]**
5. 한글 문자 유효성 (2건)
   - 성명: 정ㅎㄴ순 (비완성형 한글)
   - 직위: ㅋㅋ (자음만)

6. 컬럼 간 논리관계 (3건)
   - 폐기일자 O / 폐기사유 X: 3행, 8행, 10행

7. 시작-종료 날짜 순서 (2건)
   - 착공일자 > 준공일자: 3행 (2021-06 > 2021-05), 5행 (2023-05 > 2023-03)

8. 연도 범위 오류
   - 가입년도: 2001 (7행), 2030 (8행)
   - 출생년도: 1888 (5행), 2025 (6행)

9. 음수 값
   - 수당: -100,000 (7행)

#### 검증 결과
```
완전성: 51.67점 (이슈 12개)
- ✅ NULL과 공백 혼재 2개 컬럼
- ✅ 아웃라이어 6개 컬럼 (IQR + Z-score)

일관성: 38.50점 (이슈 2개)
- ✅ 유사 명칭 타입 불일치
- ✅ ID 중복

정확성: 55.33점 (이슈 6개)
- ✅ 연도 범위 오류 2개 컬럼
- ✅ 한글 문자 유효성 2개 컬럼
- ✅ 시작-종료 날짜 순서
- ✅ 컬럼 간 논리관계

전체 평균: 48.50점 (🔴 미흡)
```

---

## 🎯 테스트 시나리오별 추천 파일

### 시나리오 1: 빠른 기본 테스트
**파일**: `sample_customer.csv`
**시간**: ~5초
**확인**: 전반적인 품질 지표

### 시나리오 2: 엄격한 점수 검증
**파일**: `sample_error_heavy.csv`
**시간**: ~3초
**확인**: 점수 계산 알고리즘이 제대로 작동하는지

### 시나리오 3: 아웃라이어 탐지
**파일**: `sample_outliers.csv`
**시간**: ~3초
**확인**: IQR + Z-score 이원화 탐지

### 시나리오 4: 매뉴얼 준수 확인
**파일**: `sample_manual_errors.csv`
**시간**: ~3초
**확인**: 공공데이터 매뉴얼 오류 사례 탐지

### 시나리오 5: 신규 기능 종합 점검 ⭐
**파일**: `sample_comprehensive_test.csv`
**시간**: ~5초
**확인**: 모든 신규 추가 기능 한번에 테스트

---

## 📊 데이터 상세

### sample_comprehensive_test.csv 컬럼 설명

| 컬럼명 | 타입 | 설명 | 오류 여부 |
|--------|------|------|-----------|
| 성명 | 문자 | 직원 성명 | ⚠️ 비완성형 한글 (4행) |
| 직위 | 문자 | 직급 | ⚠️ 자음만 (4행) |
| 부서명 | 문자 | 소속 부서 | ⚠️ NULL 일부 |
| 미지급사유 | 문자 | 미지급 사유 | ⚠️ NULL + 공백 혼재 |
| 지급사유코드 | 문자 | 지급 사유 코드 | ⚠️ NULL + 공백 혼재 |
| 폐기일자 | 날짜 | 폐기 일자 | ⚠️ 일부 존재 |
| 폐기사유 | 문자 | 폐기 사유 | ⚠️ 폐기일자 있는데 NULL |
| 착공일자 | 날짜 | 공사 착공일 | ⚠️ 준공일보다 늦음 |
| 준공일자 | 날짜 | 공사 준공일 | ⚠️ 착공일보다 빠름 |
| 가입년도 | 숫자 | 가입 연도 | ⚠️ 2001, 2030 (범위 밖) |
| 출생년도 | 숫자 | 출생 연도 | ⚠️ 1888, 2025 (범위 밖) |
| 급여 | 숫자 | 월 급여 | ⚠️ 9,000,000 (아웃라이어) |
| 수당 | 숫자 | 월 수당 | ⚠️ -100,000 (음수) |
| 시설명 | 문자 | 시설 이름 (짧음) | - |
| 시설명칭 | 문자 | 시설 이름 (김) | ⚠️ 길이 불일치 |
| user_id | 숫자 | 사용자 ID | ⚠️ 1001 중복, 타입 불일치 |
| user_code | 문자 | 사용자 코드 | ⚠️ 타입 불일치 |
| order_count | 숫자 | 주문 건수 | ⚠️ 150, 200 (아웃라이어) |

---

## 🧪 테스트 방법

### Streamlit 앱에서 테스트
```bash
# 1. Streamlit 실행
streamlit run app.py

# 2. 사이드바에서 파일 업로드
# 3. 진단 지표 선택
# 4. "진단 시작" 버튼 클릭
```

### Python 스크립트로 테스트
```python
import pandas as pd
from modules.completeness import CompletenessChecker
from modules.consistency import ConsistencyChecker
from modules.accuracy import AccuracyChecker

# 데이터 로드
df = pd.read_csv('sample_data/sample_comprehensive_test.csv')

# 진단 실행
completeness = CompletenessChecker(df).check()
consistency = ConsistencyChecker(df).check()
accuracy = AccuracyChecker(df).check()

# 결과 확인
print(f"완전성: {completeness['score']:.2f}점")
print(f"일관성: {consistency['score']:.2f}점")
print(f"정확성: {accuracy['score']:.2f}점")
```

---

## ✅ 검증 체크리스트

### 완전성 (Completeness)
- [ ] NULL과 공백 혼재 탐지
- [ ] 공백 문자열 ('  ') 탐지
- [ ] 이상치 탐지 (IQR 방법)
- [ ] 이상치 탐지 (Z-score 방법)
- [ ] 미사용 컬럼 탐지

### 일관성 (Consistency)
- [ ] ID 컬럼 중복 탐지
- [ ] 유사 명칭 타입 불일치
- [ ] 유사 명칭 길이 불일치
- [ ] 날짜 형식 불일치

### 정확성 (Accuracy)
- [ ] 한글 문자 유효성 (비완성형)
- [ ] 컬럼 간 논리관계 (종속 관계)
- [ ] 시작-종료 날짜 순서
- [ ] 연도 범위 검사 (가입년도)
- [ ] 연도 범위 검사 (출생년도)
- [ ] 음수 값 검사
- [ ] 도메인 정확성 (Y/N)
- [ ] 이메일/전화번호 형식

---

## 📝 참고 사항

### 오류 의도
모든 샘플 데이터는 **의도적으로 오류를 포함**하고 있습니다.
- 진단 툴의 탐지 능력을 검증하기 위함
- 실제 데이터 품질 문제를 시뮬레이션

### 점수 기대치
- **sample_customer.csv**: 70-80점 (양호)
- **sample_error_heavy.csv**: 50-60점 (보통)
- **sample_outliers.csv**: 80-90점 (양호)
- **sample_manual_errors.csv**: 50-60점 (보통)
- **sample_comprehensive_test.csv**: 40-50점 (미흡) ← 가장 많은 오류

### 신규 기능 확인
**sample_comprehensive_test.csv**를 사용하면:
- NULL과 공백 혼재 ✅
- 한글 문자 유효성 ✅
- 컬럼 간 논리관계 ✅
- 유사 명칭 타입/길이 ✅
- Z-score 아웃라이어 ✅

**모든 신규 기능을 한 번에 점검 가능!**

---

**최종 업데이트**: 2025-12-07
**버전**: 2.2.0
